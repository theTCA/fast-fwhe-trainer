import{s as ie,c as R,e as se,n as Ie,d as he,b as de,f as me,r as Qe}from"../chunks/scheduler.3b3b9794.js";import{S as fe,i as ue,r as O,u as P,v as U,d as w,t as B,w as S,x as qe,y as De,j as V,f as $,k as I,a as F,e as le,b as ee,p as te,E as _e,g as E,m as X,s as Q,h as C,n as Y,c as N,B as Z,z as _,A as oe,o as ge,D as Ve}from"../chunks/index.2dba49e8.js";import{a as pe,h as Ne,e as ae,b as He,s as Fe}from"../chunks/stores.a4be5fc2.js";import{I as Be,g as xe,a as ze}from"../chunks/IconBase.a65e8b3b.js";import{P as je}from"../chunks/ProgressBar.f67f257e.js";import{Q as Ae}from"../chunks/Question.8be800a4.js";import{q as Oe,b as ve,Q as Pe,a as Ue,d as Se}from"../chunks/QuestionTags.060f6cd7.js";import{B as We}from"../chunks/BookmarkButton.b9b38373.js";function Ke(o){let e;return{c(){e=qe("path"),this.h()},l(t){e=De(t,"path",{d:!0}),V(e).forEach($),this.h()},h(){I(e,"d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z")},m(t,n){F(t,e,n)},p:Ie,d(t){t&&$(e)}}}function Le(o){let e,t;const n=[{viewBox:"0 0 24 24"},o[0]];let i={$$slots:{default:[Ke]},$$scope:{ctx:o}};for(let l=0;l<n.length;l+=1)i=R(i,n[l]);return e=new Be({props:i}),{c(){O(e.$$.fragment)},l(l){P(e.$$.fragment,l)},m(l,a){U(e,l,a),t=!0},p(l,[a]){const r=a&1?xe(n,[n[0],ze(l[0])]):{};a&2&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function ye(o,e,t){return o.$$set=n=>{t(0,e=R(R({},e),se(n)))},e=se(e),[e]}class Ge extends fe{constructor(e){super(),ue(this,e,ye,Le,ie,{})}}function Je(o){let e;return{c(){e=qe("path"),this.h()},l(t){e=De(t,"path",{d:!0}),V(e).forEach($),this.h()},h(){I(e,"d","M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 10l-2.5-1.5L15 12V4h5v8z")},m(t,n){F(t,e,n)},p:Ie,d(t){t&&$(e)}}}function Re(o){let e,t;const n=[{viewBox:"0 0 24 24"},o[0]];let i={$$slots:{default:[Je]},$$scope:{ctx:o}};for(let l=0;l<n.length;l+=1)i=R(i,n[l]);return e=new Be({props:i}),{c(){O(e.$$.fragment)},l(l){P(e.$$.fragment,l)},m(l,a){U(e,l,a),t=!0},p(l,[a]){const r=a&1?xe(n,[n[0],ze(l[0])]):{};a&2&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function Xe(o,e,t){return o.$$set=n=>{t(0,e=R(R({},e),se(n)))},e=se(e),[e]}class Ye extends fe{constructor(e){super(),ue(this,e,Xe,Re,ie,{})}}function be(o,e,t){const n=o.slice();return n[22]=e[t],n}function $e(o,e,t){const n=o.slice();return n[19]=e[t],n}function Ze(o){let e,t,n,i,l=o[2]+1+"",a,r,s=o[1].length+"",p,u,d,c,g,k,x="Auswahl",j,z,M,m,G="Weiter",b,h,f,T,W,J,A,L,ce;d=new je({props:{percentage:Math.ceil((o[2]+1)/o[1].length*100),label:!0}}),z=new We({props:{questionId:o[1][o[2]].id}});function Me(v){o[15](v)}function Te(v){o[16](v)}let re={question:o[1][o[2]],change:o[14]};o[3]!==void 0&&(re.answer=o[3]),o[4]!==void 0&&(re.showEvaluation=o[4]),f=new Ae({props:re}),de.push(()=>_e(f,"answer",Me)),de.push(()=>_e(f,"showEvaluation",Te));let q=o[5]&&ke(o);return{c(){e=E("div"),t=E("div"),n=E("div"),i=X("Frage "),a=X(l),r=X(" von "),p=X(s),u=Q(),O(d.$$.fragment),c=Q(),g=E("div"),k=E("button"),k.textContent=x,j=Q(),O(z.$$.fragment),M=Q(),m=E("button"),m.textContent=G,b=Q(),h=E("div"),O(f.$$.fragment),J=Q(),q&&q.c(),this.h()},l(v){e=C(v,"DIV",{});var D=V(e);t=C(D,"DIV",{});var y=V(t);n=C(y,"DIV",{class:!0});var K=V(n);i=Y(K,"Frage "),a=Y(K,l),r=Y(K," von "),p=Y(K,s),K.forEach($),u=N(y),P(d.$$.fragment,y),y.forEach($),c=N(D),g=C(D,"DIV",{class:!0});var H=V(g);k=C(H,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(k)!=="svelte-x7x4nx"&&(k.textContent=x),j=N(H),P(z.$$.fragment,H),M=N(H),m=C(H,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(m)!=="svelte-c7tj80"&&(m.textContent=G),H.forEach($),b=N(D),h=C(D,"DIV",{});var ne=V(h);P(f.$$.fragment,ne),J=N(ne),q&&q.l(ne),ne.forEach($),D.forEach($),this.h()},h(){I(n,"class","text-center"),I(k,"class","bg-blue-500 text-white font-semibold p-2 text-center w-[50%] rounded-md"),I(m,"class","bg-blue-500 text-white font-semibold p-2 text-center w-[50%] rounded-md"),I(g,"class","flex flex-row gap-2 my-2")},m(v,D){F(v,e,D),_(e,t),_(t,n),_(n,i),_(n,a),_(n,r),_(n,p),_(t,u),U(d,t,null),_(e,c),_(e,g),_(g,k),_(g,j),U(z,g,null),_(g,M),_(g,m),_(e,b),_(e,h),U(f,h,null),_(h,J),q&&q.m(h,null),A=!0,L||(ce=[oe(k,"click",o[13]),oe(m,"click",o[7])],L=!0)},p(v,D){(!A||D&4)&&l!==(l=v[2]+1+"")&&ge(a,l),(!A||D&2)&&s!==(s=v[1].length+"")&&ge(p,s);const y={};D&6&&(y.percentage=Math.ceil((v[2]+1)/v[1].length*100)),d.$set(y);const K={};D&6&&(K.questionId=v[1][v[2]].id),z.$set(K);const H={};D&6&&(H.question=v[1][v[2]]),D&64&&(H.change=v[14]),!T&&D&8&&(T=!0,H.answer=v[3],me(()=>T=!1)),!W&&D&16&&(W=!0,H.showEvaluation=v[4],me(()=>W=!1)),f.$set(H),v[5]?q?(q.p(v,D),D&32&&w(q,1)):(q=ke(v),q.c(),w(q,1),q.m(h,null)):q&&(te(),B(q,1,1,()=>{q=null}),ee())},i(v){A||(w(d.$$.fragment,v),w(z.$$.fragment,v),w(f.$$.fragment,v),w(q),A=!0)},o(v){B(d.$$.fragment,v),B(z.$$.fragment,v),B(f.$$.fragment,v),B(q),A=!1},d(v){v&&$(e),S(d),S(z),S(f),q&&q.d(),L=!1,Qe(ce)}}}function et(o){let e,t,n,i,l="Katalog",a,r,s,p,u,d,c="gemerkte Fragen verwenden",g,k,x,j,z;p=new Ye({});let M=ae(ve),m=[];for(let b=0;b<M.length;b+=1)m[b]=Ce($e(o,M,b));const G=b=>B(m[b],1,1,()=>{m[b]=null});return{c(){e=E("div"),t=E("div"),n=E("div"),i=E("div"),i.textContent=l,a=Q(),r=E("button"),s=E("div"),O(p.$$.fragment),u=Q(),d=E("div"),d.textContent=c,g=Q(),k=E("div");for(let b=0;b<m.length;b+=1)m[b].c();this.h()},l(b){e=C(b,"DIV",{class:!0});var h=V(e);t=C(h,"DIV",{class:!0});var f=V(t);n=C(f,"DIV",{class:!0});var T=V(n);i=C(T,"DIV",{class:!0,"data-svelte-h":!0}),Z(i)!=="svelte-1c2zsgt"&&(i.textContent=l),a=N(T),r=C(T,"BUTTON",{class:!0});var W=V(r);s=C(W,"DIV",{class:!0});var J=V(s);P(p.$$.fragment,J),J.forEach($),u=N(W),d=C(W,"DIV",{class:!0,"data-svelte-h":!0}),Z(d)!=="svelte-10uuvzo"&&(d.textContent=c),W.forEach($),T.forEach($),f.forEach($),g=N(h),k=C(h,"DIV",{class:!0});var A=V(k);for(let L=0;L<m.length;L+=1)m[L].l(A);A.forEach($),h.forEach($),this.h()},h(){I(i,"class","text-2xl font-bold"),I(s,"class","w-6 h-6"),I(d,"class","text-xs md:text-sm"),I(r,"class","flex flex-row items-center p-2 bg-blue-600 text-white rounded-md gap-2 font-semibold"),I(n,"class","flex flex-row justify-between items-center"),I(t,"class","border-b mb-2 pb-1"),I(k,"class","flex flex-col gap-2"),I(e,"class","mt-2 pb-4")},m(b,h){F(b,e,h),_(e,t),_(t,n),_(n,i),_(n,a),_(n,r),_(r,s),U(p,s,null),_(r,u),_(r,d),_(e,g),_(e,k);for(let f=0;f<m.length;f+=1)m[f]&&m[f].m(k,null);x=!0,j||(z=oe(r,"click",o[11]),j=!0)},p(b,h){if(h&256){M=ae(ve);let f;for(f=0;f<M.length;f+=1){const T=$e(b,M,f);m[f]?(m[f].p(T,h),w(m[f],1)):(m[f]=Ce(T),m[f].c(),w(m[f],1),m[f].m(k,null))}for(te(),f=M.length;f<m.length;f+=1)G(f);ee()}},i(b){if(!x){w(p.$$.fragment,b);for(let h=0;h<M.length;h+=1)w(m[h]);x=!0}},o(b){B(p.$$.fragment,b),m=m.filter(Boolean);for(let h=0;h<m.length;h+=1)B(m[h]);x=!1},d(b){b&&$(e),S(p),Ve(m,b),j=!1,z()}}}function ke(o){let e,t,n,i,l;t=new Pe({props:{tags:o[1][o[2]].tags}});let a=o[1][o[2]].help.length>0&&we(o);return{c(){e=E("div"),O(t.$$.fragment),n=Q(),a&&a.c(),i=le(),this.h()},l(r){e=C(r,"DIV",{class:!0});var s=V(e);P(t.$$.fragment,s),s.forEach($),n=N(r),a&&a.l(r),i=le(),this.h()},h(){I(e,"class","mt-4 w-full flex flex-row flex-wrap")},m(r,s){F(r,e,s),U(t,e,null),F(r,n,s),a&&a.m(r,s),F(r,i,s),l=!0},p(r,s){const p={};s&6&&(p.tags=r[1][r[2]].tags),t.$set(p),r[1][r[2]].help.length>0?a?(a.p(r,s),s&6&&w(a,1)):(a=we(r),a.c(),w(a,1),a.m(i.parentNode,i)):a&&(te(),B(a,1,1,()=>{a=null}),ee())},i(r){l||(w(t.$$.fragment,r),w(a),l=!0)},o(r){B(t.$$.fragment,r),B(a),l=!1},d(r){r&&($(e),$(n),$(i)),S(t),a&&a.d(r)}}}function we(o){let e,t,n="Hilfe",i,l,a,r=ae(o[1][o[2]].help),s=[];for(let u=0;u<r.length;u+=1)s[u]=Ee(be(o,r,u));const p=u=>B(s[u],1,1,()=>{s[u]=null});return{c(){e=E("div"),t=E("div"),t.textContent=n,i=Q(),l=E("div");for(let u=0;u<s.length;u+=1)s[u].c();this.h()},l(u){e=C(u,"DIV",{class:!0});var d=V(e);t=C(d,"DIV",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-153ibff"&&(t.textContent=n),i=N(d),l=C(d,"DIV",{class:!0});var c=V(l);for(let g=0;g<s.length;g+=1)s[g].l(c);c.forEach($),d.forEach($),this.h()},h(){I(t,"class","font-semibold mb-1"),I(l,"class","columns-1 md:columns-3"),I(e,"class","mt-2")},m(u,d){F(u,e,d),_(e,t),_(e,i),_(e,l);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(l,null);a=!0},p(u,d){if(d&6){r=ae(u[1][u[2]].help);let c;for(c=0;c<r.length;c+=1){const g=be(u,r,c);s[c]?(s[c].p(g,d),w(s[c],1)):(s[c]=Ee(g),s[c].c(),w(s[c],1),s[c].m(l,null))}for(te(),c=r.length;c<s.length;c+=1)p(c);ee()}},i(u){if(!a){for(let d=0;d<r.length;d+=1)w(s[d]);a=!0}},o(u){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)B(s[d]);a=!1},d(u){u&&$(e),Ve(s,u)}}}function Ee(o){let e,t;return e=new Ue({props:{class:"mb-2 md:mb-0",help:o[22]}}),{c(){O(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,i){U(e,n,i),t=!0},p(n,i){const l={};i&6&&(l.help=n[22]),e.$set(l)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ce(o){let e,t,n,i,l,a,r,s,p,u;n=new Ge({});function d(){return o[12](o[19])}return{c(){e=E("button"),t=E("div"),O(n.$$.fragment),i=Q(),l=E("div"),a=X(o[19]),r=Q(),this.h()},l(c){e=C(c,"BUTTON",{class:!0});var g=V(e);t=C(g,"DIV",{class:!0});var k=V(t);P(n.$$.fragment,k),k.forEach($),i=N(g),l=C(g,"DIV",{class:!0});var x=V(l);a=Y(x,o[19]),x.forEach($),r=N(g),g.forEach($),this.h()},h(){I(t,"class","w-8 h-8 text-blue-500 "),I(l,"class","font-medium text-left"),I(e,"class","flex flex-row items-center gap-1 border rounded-md w-full p-1 hover:bg-slate-200")},m(c,g){F(c,e,g),_(e,t),U(n,t,null),_(e,i),_(e,l),_(l,a),_(e,r),s=!0,p||(u=oe(e,"click",d),p=!0)},p(c,g){o=c},i(c){s||(w(n.$$.fragment,c),s=!0)},o(c){B(n.$$.fragment,c),s=!1},d(c){c&&$(e),S(n),p=!1,u()}}}function tt(o){let e,t,n,i;const l=[et,Ze],a=[];function r(s,p){return s[0]===""?0:s[1].length>0?1:-1}return~(e=r(o))&&(t=a[e]=l[e](o)),{c(){t&&t.c(),n=le()},l(s){t&&t.l(s),n=le()},m(s,p){~e&&a[e].m(s,p),F(s,n,p),i=!0},p(s,[p]){let u=e;e=r(s),e===u?~e&&a[e].p(s,p):(t&&(te(),B(a[u],1,1,()=>{a[u]=null}),ee()),~e?(t=a[e],t?t.p(s,p):(t=a[e]=l[e](s),t.c()),w(t,1),t.m(n.parentNode,n)):t=null)},i(s){i||(w(t),i=!0)},o(s){B(t),i=!1},d(s){s&&$(n),~e&&a[e].d(s)}}}function nt(o,e,t){let n,i,l;he(o,He,h=>t(9,i=h)),he(o,Fe,h=>t(10,l=h));let a="",r=0,s="",p=!1,u=!1,d=!1;function c(){t(3,s=""),t(5,d=!1),t(4,u=!1),p=!1,r>=k.length-1?t(2,r=0):t(2,r+=1)}function g(){var h;if(p){c();return}Ne.update(f=>[...f,{question:k[r],answer:s}]),((h=k[r].choices.find(f=>f.answer))==null?void 0:h.text)===s?c():(t(5,d=!0),t(4,u=!0),p=!0)}let k=[];function x(h){t(2,r=0),t(0,a=h)}const j=()=>t(0,a="bookmarks"),z=h=>x(h),M=()=>x(""),m=()=>n&&g();function G(h){s=h,t(3,s)}function b(h){u=h,t(4,u)}return o.$$.update=()=>{var h;o.$$.dirty&1024&&t(6,n=(h=l.find(f=>f.id==="fastMode"))==null?void 0:h.value),o.$$.dirty&515&&(a!=="bookmarks"?t(1,k=Oe.filter(f=>f.name===a).flatMap(f=>f.questions)):i.size>0&&t(1,k=[...i].map(f=>Se.find(T=>T.id==f))),k.forEach(f=>pe(f.choices)),pe(k))},[a,k,r,s,u,d,n,g,x,i,l,j,z,M,m,G,b]}class ct extends fe{constructor(e){super(),ue(this,e,nt,tt,ie,{})}}export{ct as component};

import{s as oe,d as ie,k as ae,n as j}from"../chunks/scheduler.1971f013.js";import{S as ce,i as fe,g as k,s as C,r as M,e as I,h as g,j as E,B as R,c as T,f as d,u as X,k as w,a as b,z as $,v as Y,A as Z,t as V,b as ee,d as D,w as te,D as le,p as re,m as ne,n as se}from"../chunks/index.e71553f2.js";import{h as O,i as N,e as A}from"../chunks/stores.7759d76d.js";import{H as ue,Q as de}from"../chunks/QuestionHistory.7231f19a.js";function K(s,t,n){const e=s.slice();return e[7]=t[n],e}function L(s,t,n){const e=s.slice();return e[10]=t[n],e[12]=n,e}function _e(s){let t,n=A(s[2]),e=[];for(let l=0;l<n.length;l+=1)e[l]=P(L(s,n,l));return{c(){t=k("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=g(l,"DIV",{class:!0});var o=E(t);for(let r=0;r<e.length;r+=1)e[r].l(o);o.forEach(d),this.h()},h(){w(t,"class","flex flex-col md:flex-row justify-center mb-4 w-full")},m(l,o){b(l,t,o);for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(t,null)},p(l,o){if(o&13){n=A(l[2]);let r;for(r=0;r<n.length;r+=1){const c=L(l,n,r);e[r]?e[r].p(c,o):(e[r]=P(c),e[r].c(),e[r].m(t,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=n.length}},d(l){l&&d(t),le(e,l)}}}function he(s){let t;function n(o,r){return o[12]===o[0]?be:me}let e=n(s),l=e(s);return{c(){l.c(),t=I()},l(o){l.l(o),t=I()},m(o,r){l.m(o,r),b(o,t,r)},p(o,r){e===(e=n(o))&&l?l.p(o,r):(l.d(1),l=e(o),l&&(l.c(),l.m(t.parentNode,t)))},d(o){o&&d(t),l.d(o)}}}function me(s){let t,n=s[10]+"",e,l,o,r;function c(){return s[5](s[12])}return{c(){t=k("button"),e=ne(n),l=C(),this.h()},l(i){t=g(i,"BUTTON",{class:!0});var _=E(t);e=se(_,n),l=T(_),_.forEach(d),this.h()},h(){w(t,"class","p-1.5 w-full text-sm font-semibold border md:border-r-0 last:border-r border-b-0 last:border-b md:border-b text-blue-600 hover:text-white hover:bg-blue-600 border-blue-600 first:rounded-t-md md:first:rounded-none md:first:rounded-l-md last:rounded-b-md md:last:rounded-none md:last:rounded-r-md")},m(i,_){b(i,t,_),$(t,e),$(t,l),o||(r=Z(t,"click",c),o=!0)},p(i,_){s=i},d(i){i&&d(t),o=!1,r()}}}function be(s){let t,n=s[10]+"",e,l;return{c(){t=k("div"),e=ne(n),l=C(),this.h()},l(o){t=g(o,"DIV",{class:!0});var r=E(t);e=se(r,n),l=T(r),r.forEach(d),this.h()},h(){w(t,"class","p-1.5 w-full text-center text-sm font-semibold text-white bg-blue-600 first:rounded-t-md md:first:rounded-none md:first:rounded-l-md last:rounded-b-md md:last:rounded-none md:last:rounded-e-md")},m(o,r){b(o,t,r),$(t,e),$(t,l)},p:j,d(o){o&&d(t)}}}function P(s){let t,n=s[3][s[12]].length>0&&he(s);return{c(){n&&n.c(),t=I()},l(e){n&&n.l(e),t=I()},m(e,l){n&&n.m(e,l),b(e,t,l)},p(e,l){e[3][e[12]].length>0&&n.p(e,l)},d(e){e&&d(t),n&&n.d(e)}}}function pe(s){let t,n="Kein Verlauf";return{c(){t=k("div"),t.textContent=n,this.h()},l(e){t=g(e,"DIV",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-4mil74"&&(t.textContent=n),this.h()},h(){w(t,"class","font-semibold text-sm text-slate-600")},m(e,l){b(e,t,l)},p:j,i:j,o:j,d(e){e&&d(t)}}}function ve(s){let t,n,e=A(s[3][s[0]].toReversed()),l=[];for(let r=0;r<e.length;r+=1)l[r]=G(K(s,e,r));const o=r=>V(l[r],1,1,()=>{l[r]=null});return{c(){t=k("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){t=g(r,"DIV",{class:!0});var c=E(t);for(let i=0;i<l.length;i+=1)l[i].l(c);c.forEach(d),this.h()},h(){w(t,"class","mt-4")},m(r,c){b(r,t,c);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(t,null);n=!0},p(r,c){if(c&9){e=A(r[3][r[0]].toReversed());let i;for(i=0;i<e.length;i+=1){const _=K(r,e,i);l[i]?(l[i].p(_,c),D(l[i],1)):(l[i]=G(_),l[i].c(),D(l[i],1),l[i].m(t,null))}for(re(),i=e.length;i<l.length;i+=1)o(i);ee()}},i(r){if(!n){for(let c=0;c<e.length;c+=1)D(l[c]);n=!0}},o(r){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)V(l[c]);n=!1},d(r){r&&d(t),le(l,r)}}}function G(s){let t,n;return t=new de({props:{history:s[7]}}),{c(){M(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,l){Y(t,e,l),n=!0},p(e,l){const o={};l&1&&(o.history=e[7]),t.$set(o)},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){V(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function ke(s){let t,n,e="Verlauf",l,o,r,c="Löschen",i,_=s[3]&&s[3].reduce(ge,0)>1,p,f,q,h,m,x,B,S,U,v=_&&_e(s);f=new ue({props:{history:s[3][s[0]]}});const W=[ve,pe],y=[];function F(a,u){return a[1].length>0?0:1}return h=F(s),m=y[h]=W[h](s),{c(){t=k("div"),n=k("div"),n.textContent=e,l=C(),o=k("div"),r=k("button"),r.textContent=c,i=C(),v&&v.c(),p=C(),M(f.$$.fragment),q=C(),m.c(),x=I(),this.h()},l(a){t=g(a,"DIV",{class:!0});var u=E(t);n=g(u,"DIV",{class:!0,"data-svelte-h":!0}),R(n)!=="svelte-1hfxuqf"&&(n.textContent=e),l=T(u),o=g(u,"DIV",{});var H=E(o);r=g(H,"BUTTON",{class:!0,"data-svelte-h":!0}),R(r)!=="svelte-yvx9v0"&&(r.textContent=c),H.forEach(d),u.forEach(d),i=T(a),v&&v.l(a),p=T(a),X(f.$$.fragment,a),q=T(a),m.l(a),x=I(),this.h()},h(){w(n,"class","text-2xl font-bold"),w(r,"class","bg-red-500 hover:bg-red-600 text-white rounded-md p-2 font-bold text-sm"),w(t,"class","flex flex-row justify-between mb-2")},m(a,u){b(a,t,u),$(t,n),$(t,l),$(t,o),$(o,r),b(a,i,u),v&&v.m(a,u),b(a,p,u),Y(f,a,u),b(a,q,u),y[h].m(a,u),b(a,x,u),B=!0,S||(U=Z(r,"click",s[4]),S=!0)},p(a,[u]){_&&v.p(a,u);const H={};u&1&&(H.history=a[3][a[0]]),f.$set(H);let z=h;h=F(a),h===z?y[h].p(a,u):(re(),V(y[z],1,1,()=>{y[z]=null}),ee(),m=y[h],m?m.p(a,u):(m=y[h]=W[h](a),m.c()),D(m,1),m.m(x.parentNode,x))},i(a){B||(D(f.$$.fragment,a),D(m),B=!0)},o(a){V(f.$$.fragment,a),V(m),B=!1},d(a){a&&(d(t),d(i),d(p),d(q),d(x)),v&&v.d(a),te(f,a),y[h].d(a),S=!1,U()}}}function Q(s){return new Date(s.getTime()-Date.now()).getTime()<1e3*3*24*60*60}function J(s){return new Date(s.getTime()-Date.now()).getTime()<1e3*7*24*60*60}const ge=(s,t)=>t.length>0?s+1:s;function ye(s,t,n){let e;ie(s,O,p=>n(1,e=p));const l=["Heute","letzten 3 Tage","diese Woche","älter"];let o=0,r=l.map((p,f)=>c(f));function c(p){if(!O||!Array.isArray(e))return[];switch(p){default:return[...e];case 0:return[...e].filter(f=>N(f.date));case 1:return[...e].filter(f=>!N(f.date)&&Q(f.date));case 2:return[...e].filter(f=>!N(f.date)&&!Q(f.date)&&J(f.date));case 3:return[...e].filter(f=>!N(f.date)&&!Q(f.date)&&!J(f.date))}}return[o,e,l,r,()=>ae(O,e=[],e),p=>n(0,o=p)]}class Ce extends ce{constructor(t){super(),fe(this,t,ye,ke,oe,{})}}export{Ce as component};

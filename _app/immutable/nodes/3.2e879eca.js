import{j as oe,k as ce,l as S,m as ue,s as le,c as P,e as y,n as v,d as ie,b as G,f as J}from"../chunks/scheduler.3b3b9794.js";import{p as F,t as $,b as O,d as b,S as ae,i as re,r as x,u as H,v as T,w as z,x as fe,y as he,j as D,f as k,k as I,a as A,g as q,s as B,h as C,c as M,B as U,z as w,A as de,e as K,D as me,E as R}from"../chunks/index.2dba49e8.js";import{e as X,a as Y,h as _e,s as pe}from"../chunks/stores.a4be5fc2.js";import{I as ge,g as be,a as ve}from"../chunks/IconBase.a65e8b3b.js";import{c as ke,Q as we,a as $e}from"../chunks/QuestionTags.060f6cd7.js";import{Q as Ee}from"../chunks/Question.8be800a4.js";import{b as qe}from"../chunks/paths.e839c61a.js";function Ce(s,e){const n=e.token={};function l(c,r,o,a){if(e.token!==n)return;e.resolved=a;let t=e.ctx;o!==void 0&&(t=t.slice(),t[o]=a);const h=c&&(e.current=c)(t);let u=!1;e.block&&(e.blocks?e.blocks.forEach((f,i)=>{i!==r&&f&&(F(),$(f,1,1,()=>{e.blocks[i]===f&&(e.blocks[i]=null)}),O())}):e.block.d(1),h.c(),b(h,1),h.m(e.mount(),e.anchor),u=!0),e.block=h,e.blocks&&(e.blocks[r]=h),u&&ue()}if(oe(s)){const c=ce();if(s.then(r=>{S(c),l(e.then,1,e.value,r),S(null)},r=>{if(S(c),l(e.catch,2,e.error,r),S(null),!e.hasCatch)throw r}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,s),!0;e.resolved=s}}function Ie(s,e,n){const l=e.slice(),{resolved:c}=s;s.current===s.then&&(l[s.value]=c),s.current===s.catch&&(l[s.error]=c),s.block.p(l,n)}function De(s){let e;return{c(){e=fe("path"),this.h()},l(n){e=he(n,"path",{d:!0}),D(e).forEach(k),this.h()},h(){I(e,"d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z")},m(n,l){A(n,e,l)},p:v,d(n){n&&k(e)}}}function Qe(s){let e,n;const l=[{viewBox:"0 0 24 24"},s[0]];let c={$$slots:{default:[De]},$$scope:{ctx:s}};for(let r=0;r<l.length;r+=1)c=P(c,l[r]);return e=new ge({props:c}),{c(){x(e.$$.fragment)},l(r){H(e.$$.fragment,r)},m(r,o){T(e,r,o),n=!0},p(r,[o]){const a=o&1?be(l,[l[0],ve(r[0])]):{};o&2&&(a.$$scope={dirty:o,ctx:r}),e.$set(a)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function Ve(s,e,n){return s.$$set=l=>{n(0,e=P(P({},e),y(l)))},e=y(e),[e]}class je extends ae{constructor(e){super(),re(this,e,Ve,Qe,le,{})}}function ee(s,e,n){const l=s.slice();return l[14]=e[n],l}function Be(s){return{c:v,l:v,m:v,p:v,i:v,o:v,d:v}}function Me(s){let e,n,l,c;function r(t){s[10](t)}function o(t){s[11](t)}let a={class:"mb-2",question:s[7][s[0]],change:s[9]};return s[1]!==void 0&&(a.answer=s[1]),s[3]!==void 0&&(a.showEvaluation=s[3]),e=new Ee({props:a}),G.push(()=>R(e,"answer",r)),G.push(()=>R(e,"showEvaluation",o)),{c(){x(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,h){T(e,t,h),c=!0},p(t,h){const u={};h&1&&(u.question=t[7][t[0]]),h&16&&(u.change=t[9]),!n&&h&2&&(n=!0,u.answer=t[1],J(()=>n=!1)),!l&&h&8&&(l=!0,u.showEvaluation=t[3],J(()=>l=!1)),e.$set(u)},i(t){c||(b(e.$$.fragment,t),c=!0)},o(t){$(e.$$.fragment,t),c=!1},d(t){z(e,t)}}}function Ae(s){return{c:v,l:v,m:v,p:v,i:v,o:v,d:v}}function te(s){let e,n,l,c,r;n=new we({props:{tags:s[7][s[0]].tags}});let o=s[7][s[0]].help.length>0&&se(s);return{c(){e=q("div"),x(n.$$.fragment),l=B(),o&&o.c(),c=K(),this.h()},l(a){e=C(a,"DIV",{class:!0});var t=D(e);H(n.$$.fragment,t),t.forEach(k),l=M(a),o&&o.l(a),c=K(),this.h()},h(){I(e,"class","mt-4 w-full flex flex-row flex-wrap")},m(a,t){A(a,e,t),T(n,e,null),A(a,l,t),o&&o.m(a,t),A(a,c,t),r=!0},p(a,t){const h={};t&1&&(h.tags=a[7][a[0]].tags),n.$set(h),a[7][a[0]].help.length>0?o?(o.p(a,t),t&1&&b(o,1)):(o=se(a),o.c(),b(o,1),o.m(c.parentNode,c)):o&&(F(),$(o,1,1,()=>{o=null}),O())},i(a){r||(b(n.$$.fragment,a),b(o),r=!0)},o(a){$(n.$$.fragment,a),$(o),r=!1},d(a){a&&(k(e),k(l),k(c)),z(n),o&&o.d(a)}}}function se(s){let e,n,l="Hilfe",c,r,o,a=X(s[7][s[0]].help),t=[];for(let u=0;u<a.length;u+=1)t[u]=ne(ee(s,a,u));const h=u=>$(t[u],1,1,()=>{t[u]=null});return{c(){e=q("div"),n=q("div"),n.textContent=l,c=B(),r=q("div");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l(u){e=C(u,"DIV",{class:!0});var f=D(e);n=C(f,"DIV",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-736257"&&(n.textContent=l),c=M(f),r=C(f,"DIV",{class:!0});var i=D(r);for(let p=0;p<t.length;p+=1)t[p].l(i);i.forEach(k),f.forEach(k),this.h()},h(){I(n,"class","font-semibold mb-1"),I(r,"class","columns-1 md:columns-3"),I(e,"class","mt-2")},m(u,f){A(u,e,f),w(e,n),w(e,c),w(e,r);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(r,null);o=!0},p(u,f){if(f&129){a=X(u[7][u[0]].help);let i;for(i=0;i<a.length;i+=1){const p=ee(u,a,i);t[i]?(t[i].p(p,f),b(t[i],1)):(t[i]=ne(p),t[i].c(),b(t[i],1),t[i].m(r,null))}for(F(),i=a.length;i<t.length;i+=1)h(i);O()}},i(u){if(!o){for(let f=0;f<a.length;f+=1)b(t[f]);o=!0}},o(u){t=t.filter(Boolean);for(let f=0;f<t.length;f+=1)$(t[f]);o=!1},d(u){u&&k(e),me(t,u)}}}function ne(s){let e,n;return e=new $e({props:{class:"mb-2 md:mb-0",help:s[14]}}),{c(){x(e.$$.fragment)},l(l){H(e.$$.fragment,l)},m(l,c){T(e,l,c),n=!0},p(l,c){const r={};c&1&&(r.help=l[14]),e.$set(r)},i(l){n||(b(e.$$.fragment,l),n=!0)},o(l){$(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function Ne(s){let e,n,l,c,r="Zurück",o,a,t,h="Weiter",u,f,i,p,Q,V,N,_,d={ctx:s,current:null,token:null,hasCatch:!1,pending:Ae,then:Me,catch:Be,value:7,blocks:[,,,]};Ce(s[5](),d),i=new je({});let m=s[2]&&te(s);return{c(){e=q("div"),d.block.c(),n=B(),l=q("div"),c=q("a"),c.textContent=r,o=B(),a=q("button"),t=q("div"),t.textContent=h,u=B(),f=q("div"),x(i.$$.fragment),p=B(),Q=q("div"),m&&m.c(),this.h()},l(E){e=C(E,"DIV",{});var g=D(e);d.block.l(g),n=M(g),l=C(g,"DIV",{class:!0});var j=D(l);c=C(j,"A",{class:!0,href:!0,"data-svelte-h":!0}),U(c)!=="svelte-4mmchl"&&(c.textContent=r),o=M(j),a=C(j,"BUTTON",{class:!0,"aria-label":!0});var L=D(a);t=C(L,"DIV",{"data-svelte-h":!0}),U(t)!=="svelte-1kof46u"&&(t.textContent=h),u=M(L),f=C(L,"DIV",{class:!0});var W=D(f);H(i.$$.fragment,W),W.forEach(k),L.forEach(k),j.forEach(k),p=M(g),Q=C(g,"DIV",{});var Z=D(Q);m&&m.l(Z),Z.forEach(k),g.forEach(k),this.h()},h(){I(c,"class","bg-blue-500 text-white rounded-md w-full h-12 font-semibold text-center flex justify-center items-center"),I(c,"href",qe),I(f,"class","w-8 h-8"),I(a,"class","w-full h-12 bg-blue-500 text-white font-semibold rounded-md flex flex-row justify-center items-center"),I(a,"aria-label","nächste Frage"),I(l,"class","flex flex-row gap-2 items-center")},m(E,g){A(E,e,g),d.block.m(e,d.anchor=null),d.mount=()=>e,d.anchor=n,w(e,n),w(e,l),w(l,c),w(l,o),w(l,a),w(a,t),w(a,u),w(a,f),T(i,f,null),w(e,p),w(e,Q),m&&m.m(Q,null),V=!0,N||(_=de(a,"click",s[6]),N=!0)},p(E,[g]){s=E,Ie(d,s,g),s[2]?m?(m.p(s,g),g&4&&b(m,1)):(m=te(s),m.c(),b(m,1),m.m(Q,null)):m&&(F(),$(m,1,1,()=>{m=null}),O())},i(E){V||(b(d.block),b(i.$$.fragment,E),b(m),V=!0)},o(E){for(let g=0;g<3;g+=1){const j=d.blocks[g];$(j)}$(i.$$.fragment,E),$(m),V=!1},d(E){E&&k(e),d.block.d(),d.token=null,d=null,z(i),m&&m.d(),N=!1,_()}}}function xe(s,e,n){let l,c;ie(s,pe,_=>n(8,c=_));let r=0,o="",a=!1,t=!1,h=ke.flatMap(_=>_.questions.map(d=>({...d,catalogue:_.name})));async function u(){return h.forEach(_=>Y(_.choices)),Y(h),h}function f(){n(1,o=""),n(2,t=!1),n(3,p=!1),a=!1,r>=h.length-1?n(0,r=0):n(0,r+=1)}function i(){var _;if(a){f();return}_e.update(d=>[...d,{question:h[r],answer:o}]),((_=h[r].choices.find(d=>d.answer))==null?void 0:_.text)===o?f():(n(2,t=!0),n(3,p=!0),a=!0)}let p=!1;const Q=()=>l&&i();function V(_){o=_,n(1,o)}function N(_){p=_,n(3,p)}return s.$$.update=()=>{var _;s.$$.dirty&256&&n(4,l=(_=c.find(d=>d.id==="fastMode"))==null?void 0:_.value)},[r,o,t,p,l,u,i,h,c,Q,V,N]}class Pe extends ae{constructor(e){super(),re(this,e,xe,Ne,le,{})}}export{Pe as component};
